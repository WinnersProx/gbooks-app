(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{118:function(e,a,t){"use strict";t.r(a);var n=t(50),r=t(51),l=t(53),c=t(52),o=t(0),s=t.n(o),i=t(62),u=t(60),m=t(2),d=t(3),v=t(8),p=t.n(v),h=t(55),b=/-(.)/g;var f=function(e){return e[0].toUpperCase()+(a=e,a.replace(b,(function(e,a){return a.toUpperCase()}))).slice(1);var a};function E(e,a){var t=void 0===a?{}:a,n=t.displayName,r=void 0===n?f(e):n,l=t.Component,c=void 0===l?"div":l,o=t.defaultProps,i=s.a.forwardRef((function(a,t){var n=a.className,r=a.bsPrefix,l=a.as,o=void 0===l?c:l,i=Object(d.a)(a,["className","bsPrefix","as"]),u=Object(h.a)(r,e);return s.a.createElement(o,Object(m.a)({ref:t,className:p()(n,u)},i))}));return i.defaultProps=o,i.displayName=r,i}var g=function(e){return s.a.forwardRef((function(a,t){return s.a.createElement("div",Object(m.a)({},a,{ref:t,className:p()(a.className,e)}))}))},k=s.a.createContext(null),N=s.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,r=e.variant,l=e.as,c=void 0===l?"img":l,o=Object(d.a)(e,["bsPrefix","className","variant","as"]),i=Object(h.a)(t,"card-img");return s.a.createElement(c,Object(m.a)({ref:a,className:p()(r?i+"-"+r:i,n)},o))}));N.displayName="CardImg",N.defaultProps={variant:null};var y=N,j=g("h5"),w=g("h6"),x=E("card-body"),O=s.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,r=e.bg,l=e.text,c=e.border,i=e.body,u=e.children,v=e.as,b=void 0===v?"div":v,f=Object(d.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),E=Object(h.a)(t,"card"),g=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:E+"-header"}}),[E]);return s.a.createElement(k.Provider,{value:g},s.a.createElement(b,Object(m.a)({ref:a},f,{className:p()(n,E,r&&"bg-"+r,l&&"text-"+l,c&&"border-"+c)}),i?s.a.createElement(x,null,u):u))}));O.displayName="Card",O.defaultProps={body:!1},O.Img=y,O.Title=E("card-title",{Component:j}),O.Subtitle=E("card-subtitle",{Component:w}),O.Body=x,O.Link=E("card-link",{Component:"a"}),O.Text=E("card-text",{Component:"p"}),O.Header=E("card-header"),O.Footer=E("card-footer"),O.ImgOverlay=E("card-img-overlay");var I=O,S=t(119),C=t(101),B=t(21),P=t(57),D=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){var r;Object(n.a)(this,t);var l=(r=a.call(this,e)).props.match.params.bookId;return r.state={bookId:l},r}return Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.bookId;this.setState({bookId:e}),this.props.fetchBookDetails(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.bookId;this.state.bookId!==e&&(console.log(e),this.setState({bookId:e}),this.props.fetchBookDetails(e))}},{key:"render",value:function(){var e,a=this.props,t=a.bookDetails,n=a.isFetching,r=a.error;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement(i.a,null),s.a.createElement(u.a,null),!n&&!r&&t&&s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement(I,{className:"w-100 custom-card"},s.a.createElement(I.Header,null,s.a.createElement(I.Title,null,t.volumeInfo.title)),s.a.createElement(I.Body,null,s.a.createElement(I.Img,{variant:"top",src:t.volumeInfo.imageLinks.thumbnail,style:{height:"60vh"}})))),s.a.createElement("div",{className:"col-md-7"},s.a.createElement(I,{className:"w-100 custom-card"},s.a.createElement(I.Body,null,s.a.createElement(I.Text,null,null===(e=t.volumeInfo)||void 0===e?void 0:e.description)),s.a.createElement(S.a,{className:"list-group-flush"},s.a.createElement(C.a,{className:"book-identity d-flex"},s.a.createElement("div",{className:"author font-weight-bold"},"Author"),s.a.createElement("div",null,t.volumeInfo.authors.join(",").replace(","," and "))),s.a.createElement(C.a,{className:"book-identity d-flex"},s.a.createElement("div",{className:"author font-weight-bold"},"Published by"),s.a.createElement("div",null,t.volumeInfo.publisher)),s.a.createElement(C.a,{className:"book-identity d-flex"},s.a.createElement("div",{className:"author font-weight-bold"},"Year"),s.a.createElement("div",null,new Date(t.volumeInfo.publishedDate).getFullYear())),s.a.createElement(C.a,{className:"book-identity d-flex"},s.a.createElement("div",{className:"author font-weight-bold"},"Language"),s.a.createElement("div",null,t.volumeInfo.language)),s.a.createElement(C.a,{className:"book-identity d-flex"},s.a.createElement("div",{className:"author font-weight-bold"},"Pages"),s.a.createElement("div",null,t.volumeInfo.pageCount)),s.a.createElement(C.a,{className:"book-identity d-flex"},s.a.createElement("div",{className:"author font-weight-bold"},"Printed"),s.a.createElement("div",null,t.volumeInfo.printedPageCount," books"))))))))}}]),t}(o.Component);a.default=Object(B.b)((function(e){var a=e.booksReducer,t=e.processReducer;return{bookDetails:a.bookDetails,isFetching:t.isFetching,error:t.error}}),{fetchBookDetails:P.a})(D)},57:function(e,a,t){"use strict";t.d(a,"b",(function(){return v})),t.d(a,"a",(function(){return p}));var n=t(66),r=t.n(n),l=t(67),c=t(4),o=function(){return{type:c.d}},s=function(){return{type:c.a}},i=t(68),u=t.n(i),m="https://www.googleapis.com/books/v1/volumes",d="AIzaSyD9JQekDW9RAH3s8uY1uVj8R5BJ_Uj185M",v=function(e){return function(){var a=Object(l.a)(r.a.mark((function a(t){var n,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:c.f}),a.prev=1,a.next=4,u.a.get("".concat(m,"/?q=").concat(e,"&orderBy=newest&key=").concat(d));case 4:return n=a.sent,t(s()),a.abrupt("return",t({type:c.e,payload:n.data}));case 9:return a.prev=9,a.t0=a.catch(1),t(s()),a.abrupt("return",t({type:c.c,payload:null===a.t0||void 0===a.t0||null===(l=a.t0.response)||void 0===l?void 0:l.data}));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var a=Object(l.a)(r.a.mark((function a(t){var n,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(o()),a.prev=1,a.next=4,u.a.get("".concat(m,"/").concat(e));case 4:return n=a.sent,t(s()),a.abrupt("return",t({type:c.g,payload:n.data}));case 9:return a.prev=9,a.t0=a.catch(1),t(s()),a.abrupt("return",t({type:c.c,payload:null===a.t0||void 0===a.t0||null===(l=a.t0.response)||void 0===l?void 0:l.data}));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}},60:function(e,a,t){"use strict";var n=t(50),r=t(51),l=t(53),c=t(52),o=t(0),s=t.n(o),i=t(21),u=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){return Object(n.a)(this,t),a.call(this,e)}return Object(r.a)(t,[{key:"render",value:function(){var e,a=this.props,t=a.error,n=a.isFetching,r=t&&s.a.createElement("div",null,"An error occured, ",(null==t||null===(e=t.error)||void 0===e?void 0:e.message)||"check your internet connection"),l=n&&s.a.createElement("div",null,"Loading...");return s.a.createElement(s.a.Fragment,null,(n||t)&&s.a.createElement("div",{className:"container d-flex justify-content-center align-items-center",style:{height:"calc(100vh - 50px)"}},r,l))}}]),t}(o.Component);a.a=Object(i.b)((function(e){var a=e.processReducer;return{isFetching:a.isFetching,error:a.error}}),{})(u)},62:function(e,a,t){"use strict";var n=t(50),r=t(51),l=t(53),c=t(52),o=t(0),s=t.n(o),i=t(116),u=t(117),m=t(9),d=t(58),v=t(119),p=t(101),h=t(115),b=t(21),f=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).skipSearch=r.props.skipSearch.bind(Object(d.a)(r)),r}return Object(r.a)(t,[{key:"viewBookDetails",value:function(e,a){a.preventDefault(),this.skipSearch(),m.c.push("/book/"+e)}},{key:"render",value:function(){var e,a,t=this,n=this.props,r=(n.results,n.isSearching),l=r&&s.a.createElement("div",{className:"w-100 text-center"},"Loading...");return s.a.createElement("div",{className:"search-results"},s.a.createElement("div",null,s.a.createElement(v.a,null,s.a.createElement(p.a,{className:"text-right"},s.a.createElement(h.a,{className:"optionsIcon",onClick:this.skipSearch}),l),!r&&(null===(e=this.props.results)||void 0===e||null===(a=e.items)||void 0===a?void 0:a.map((function(e,a){var n,r,l,c,o,i;return s.a.createElement(p.a,{className:"d-flex align-items-center",key:a,onClick:t.viewBookDetails.bind(t,e.id)},s.a.createElement("div",{className:""},s.a.createElement("img",{src:null==e||null===(n=e.volumeInfo)||void 0===n||null===(r=n.imageLinks)||void 0===r?void 0:r.smallThumbnail,height:"100px",width:"80px",alt:"Book image"})),s.a.createElement("div",{className:"pl-2 pl-md-4 pl-lg-4"},s.a.createElement("div",{className:"font-weight-bold"},null==e||null===(l=e.volumeInfo)||void 0===l?void 0:l.title),s.a.createElement("div",null,"Written by ",null==e||null===(c=e.volumeInfo)||void 0===c||null===(o=c.authors)||void 0===o?void 0:o.join(",").replace(","," and ")),s.a.createElement("div",null,"Published by ",null==e||null===(i=e.volumeInfo)||void 0===i?void 0:i.publisher)))}))))))}}]),t}(o.Component),E=Object(b.b)((function(e){var a=e.booksReducer,t=e.processReducer;return{results:a.results,isSearching:t.isSearching}}),{})(f),g=t(57),k=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={isSearching:!1},r}return Object(r.a)(t,[{key:"searchBooks",value:function(e){e.preventDefault(),e.target.value.trim().length?(this.setState({isSearching:!0}),this.props.searchGBooks(e.target.value)):this.setState({isSearching:!1})}},{key:"skipSearch",value:function(e){this.state.isSearching&&this.setState({isSearching:!1})}},{key:"submitSearchQuery",value:function(e){e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar fixed-top navbar-expand bg-pr custom-nav"},s.a.createElement("div",{className:"text-white font-weight-bold"},s.a.createElement(m.a,{to:"/",className:"text-white branding"},"GBooks")),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggler1"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("form",{className:"form-inline"},s.a.createElement("div",{className:"searchForm"},s.a.createElement("input",{className:"form-control rounded-pill",type:"search",placeholder:"Search book...","aria-label":"Search",onChange:this.searchBooks.bind(this)}),s.a.createElement("button",{className:"btn bg-white rounded-pill",type:"submit"},s.a.createElement(i.a,{className:"optionIcon"}))))))),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggler2"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(m.a,{className:"text-white",to:"/"},s.a.createElement(u.a,{className:"optionIcon"}),s.a.createElement("span",{className:"sm-invisible"},"Favourites")))))),s.a.createElement("div",{className:"mt-4"},this.state.isSearching&&s.a.createElement(E,{skipSearch:this.skipSearch.bind(this)})))}}]),t}(o.Component);a.a=Object(b.b)(null,{searchGBooks:g.b})(k)}}]);
//# sourceMappingURL=2.bundle.js.map